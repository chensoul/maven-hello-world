<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/index.md.vm at 2023-12-13
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>maven-hello-world &#x2013; Maven Hello World</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>maven-hello-world</h2>
</div>
</div>
          <div class="pull-right"><a href="https://chensoul.github.io/maven-hello-world/" id="bannerRight"><img src="https://avatars.githubusercontent.com/u/826932?s=60"  alt="maven-hello-world"/></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-12-13<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.0.31</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Documentation</li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a></li>
    <li><a href="https://github.com/chensoul/maven-hello-world/" class="externalLink" title="Github Repository"><span class="none"></span>Github Repository</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
     <ul class="nav nav-list">
      <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
      <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
      <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a></li>
      <li class="active"><a href="#"><span class="none"></span>About</a></li>
      <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
      <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a></li>
      <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
      <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
      <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
      <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
     </ul></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Maven Hello World</h1>
<p>Getting started with Maven Release Plugin and Github Action</p><section>
<h2><a name="Links"></a>Links</h2>
<p>Login to your <a class="externalLink" href="https://s01.oss.sonatype.org/">sonatype</a> account to release the version</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th align="left">Type</th>
<th align="left">URL</th>
<th align="left">Description</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">Snapshot</td>
<td align="left"><a class="externalLink" href="https://s01.oss.sonatype.org/content/repositories/snapshots/com/chensoul/maven-hello-world/">sonatype</a></td>
<td align="left">Sonatype Snapshot versions</td></tr>
<tr class="a">
<td align="left">Release</td>
<td align="left"><a class="externalLink" href="https://repo.maven.apache.org/maven2/com/chensoul/maven-hello-world/">maven</a></td>
<td align="left">Maven Release versions</td></tr>
<tr class="b">
<td align="left">Release</td>
<td align="left"><a class="externalLink" href="https://central.sonatype.com/artifact/com.chensoul/maven-hello-world/">central-sonatype</a></td>
<td align="left">Sonatype Release versions</td></tr>
</tbody>
</table></section><section>
<h2><a name="Documentation"></a>Documentation</h2>
<ul>

<li>Well explained blog
of <a class="externalLink" href="https://dzone.com/articles/how-to-publish-artifacts-to-maven-central">How to Publish Artifacts to Maven Central</a></li>
<li>Your Sonatype account <a class="externalLink" href="https://s01.oss.sonatype.org/">link</a></li>
<li>Your Jira ticket login <a class="externalLink" href="https://issues.sonatype.org/">link</a></li>
<li>Github action to import gpg:
<ul>

<li><a class="externalLink" href="https://github.com/actions/setup-java/blob/ddb82ce8a6ecf5ac3e80c3184839e6661546e4aa/docs/advanced-usage.md?plain=1#L315">link1</a></li>
<li><a class="externalLink" href="https://github.com/hashicorp/ghaction-import-gpg">link2</a></li>
<li><a class="externalLink" href="https://github.com/crazy-max/ghaction-import-gpg/tree/master">link3</a></li>
</ul>
</li>
</ul></section><section>
<h2><a name="Secrets"></a>Secrets</h2>
<ul>

<li><b>MAVEN_GPG_PRIVATE_KEY</b> - Take it from the private.gpg</li>
<li><b>OSSRH_USERNAME</b> - Created <a class="externalLink" href="https://issues.sonatype.org/">here</a></li>
<li><b>OSSRH_TOKEN</b> - Created <a class="externalLink" href="https://issues.sonatype.org/">here</a></li>
<li><b>MAVEN_GPG_PASSPHRASE</b> - Create <a class="externalLink" href="https://central.sonatype.org/publish/requirements/gpg/#generating-a-key-pair">here</a>
<ul>

<li>This passphrase and your private key are all that is needed to sign artifacts with your signature.</li>
</ul>
</li>
<li><b>GITHUB_TOKEN</b> - Github token</li>
</ul></section><section>
<h2><a name="Demo"></a>Demo</h2>
<p>How do you release a version?</p>
<p>Manually:<br />
&#xa0;&#xa0;&#xa0;1. Check the version in the pom.xml<br />
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;* <b>0.0.1-SNAPSHOT</b><br />
&#xa0;&#xa0;&#xa0;2. Go to Github action -&gt; Run workflow<br />
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;* <b>Release:</b> 0.0.1<br />
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;* <b>Snapshot:</b> 0.0.2-SNAPSHOT</p>
<p>Automatically:<br />
Push to Github will create a release and a snapshot but it won't publish the release.<br />
Snapshot will be available through <a class="externalLink" href="https://central.sonatype.com/artifact/com.chensoul/maven-hello-world/0.0.1">here</a></p>

<div class="source"><pre class="prettyprint"><code class="language-bash">&lt;dependency&gt;
    &lt;groupId&gt;com.chenspoul&lt;/groupId&gt;
    &lt;artifactId&gt;maven-hello-world&lt;/artifactId&gt;
    &lt;version&gt;0.0.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div></section><section>
<h2><a name="Maven_in_5_Minutes"></a>Maven in 5 Minutes</h2>
<p>Follow after the documentation <a class="externalLink" href="https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html">here</a> to
start your first maven.</p>
<p>Expend your <code>./src/main/java/com/mycompany/app/App.java</code> with:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">package com.mycompany.app;

import com.sun.net.httpserver.HttpExchange;
import com.sun.net.httpserver.HttpHandler;
import com.sun.net.httpserver.HttpServer;

import java.io.IOException;
import java.io.OutputStream;
import java.net.InetSocketAddress;

public class App {
    public static void main( String[] args ) throws IOException {
        HttpServer server = HttpServer.create(new InetSocketAddress(8080), 0);
        server.createContext(&quot;/&quot;, new MyHandler());
        server.setExecutor(null); // creates a default executor
        server.start();
    }

    static class MyHandler implements HttpHandler {
        @Override
        public void handle(HttpExchange t) throws IOException {
            String response = &quot;&lt;h1&gt; Hello World! &lt;/h1&gt;&quot;;
            t.sendResponseHeaders(200, response.length());
            OutputStream os = t.getResponseBody();
            os.write(response.getBytes());
            os.close();
        }
    }
}
</code></pre></div></section><section>
<h2><a name="GPG"></a>GPG</h2>
<p>After generating gpg key following by <a class="externalLink" href="https://central.sonatype.org/publish/requirements/gpg/#generating-a-key-pair">here</a></p>

<div class="source"><pre class="prettyprint"><code class="language-bash">gpg --gen-key
</code></pre></div>
<p>You can list the local key that you created:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">gpg --list-secret-keys --keyid-format=long
</code></pre></div>
<p>Then you can export the private key to your local machine in order to upload it later to Github secret:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">gpg --armor --export-secret-keys &lt;YOUR_KEY&gt; &gt; private.gpg
</code></pre></div>
<ul>

<li>YOUR_KEY=&#x2018;long number&#x2019;</li>
</ul></section><section>
<h2><a name="Local_commands"></a>Local commands</h2>
<p>Check your maven settings file <code>&#xff5e;/.m2/settings.xml</code>:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">    &lt;server&gt;
        &lt;id&gt;gpg.passphrase&lt;/id&gt;
        &lt;passphrase&gt;&lt;PASSPHRASE_GPG&gt;&lt;/passphrase&gt;
    &lt;/server&gt;
    &lt;server&gt;
        &lt;id&gt;ossrh&lt;/id&gt;
        &lt;username&gt;&lt;OSSRH_USERNAME&gt;&lt;/username&gt;
        &lt;password&gt;&lt;OSSRH_TOKEN&gt;&lt;/password&gt;
    &lt;/server&gt;
</code></pre></div>
<p>According to <a class="externalLink" href="https://central.sonatype.org/publish/publish-maven/">publish-maven</a>, you can do these as below.</p><section>
<h3><a name="Performing_a_Snapshot_Deployment"></a>Performing a Snapshot Deployment</h3>
<p>Snapshot deployment are performed when your version ends in -SNAPSHOT . You do not need to fulfill the requirements when
performing snapshot deployments and can simply run</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn -B clean deploy
</code></pre></div>
<p>SNAPSHOT versions are not synchronized to the Central Repository. If you wish your users to consume your SNAPSHOT
versions, they would need to add the snapshot repository to their Nexus Repository Manager, settings.xml, or pom.xml.
Successfully deployed SNAPSHOT versions will be found in <a class="externalLink" href="https://s01.oss.sonatype.org/content/repositories/snapshots/">https://s01.oss.sonatype.org/content/repositories/snapshots/</a></p></section><section>
<h3><a name="Performing_a_Release_Deployment"></a>Performing a Release Deployment</h3>
<p>Change version with the Maven versions plugin.</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn versions:set -DnewVersion=1.2.3 versions:commit
</code></pre></div>
<p>Release to the staging repository <a class="externalLink" href="https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/">https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/</a> with the release profile:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn clean deploy -P release
</code></pre></div>
<p>Release to the central repository:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn clean deploy -P release -DautoReleaseAfterClose=true
</code></pre></div></section><section>
<h3><a name="Manually_Releasing_the_Deployment_to_the_Central_Repository"></a>Manually Releasing the Deployment to the Central Repository</h3>
<p>You can simply release the staging repository with</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn nexus-staging:release -P release -DautoReleaseAfterClose=true
</code></pre></div></section><section>
<h3><a name="Manually_Publish_the_site_to_github_pages"></a>Manually Publish the site to github pages</h3>
<p>Publish to github pages:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">mvn site scm-publish:publish-scm
</code></pre></div></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2023
<a href="https://blog.chensoul.com/">ChenSoul™</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>